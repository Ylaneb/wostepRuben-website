/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
let player;function onYouTubeIframeAPIReady(){player=new YT.Player('player',{height:'390',width:'640',host:'https://www.youtube-nocookie.com',videoId:'4w27i3JnxY8',playerVars:{'playsinline':1,'controls':0,'autoplay':1,'loop':1,'mute':1,'rel':0},events:{'onReady':onPlayerReady,'onStateChange':onPlayerStateChange,'onError':onPlayerError}});}function onPlayerReady(event){event.target.playVideo();}function onPlayerStateChange(event){if(event.data==YT.PlayerState.ENDED){player.seekTo(0);player.playVideo();}}function onPlayerError(event){event.target.g.style.display='none';console.log(event.target.o.style);const poster=document.querySelector('#homepage-hero-iframe__poster');poster.style.display='block';}const toggleVolume=document.querySelector('#js-home-video-volume');if(toggleVolume)toggleVolume.addEventListener('click',function(e){toggleVolume.innerText="Couper le son";if(player.isMuted())player.unMute();else{player.mute();toggleVolume.innerText="Activer le son";}});function heroVideoCallback(){if(player)player.getPlayerState()===1?player.pauseVideo():player.playVideo();}let HeroVideoObserver=new IntersectionObserver(heroVideoCallback,{threshold:.2});const heroVideo=document.querySelector('#js-video-observer');if(heroVideo)HeroVideoObserver.observe(heroVideo);document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?player.playVideo():player.pauseVideo();});;
